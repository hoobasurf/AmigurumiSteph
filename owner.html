<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Owner</title>

<style>
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto}

/* ================== BODY ================== */
body{
  background:url('Photoroom_20251212_143703.PNG') center top / cover no-repeat fixed;
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

/* ================== THEMES FX ================== */
.snow,.sweetRain{
  position:fixed;
  inset:0;
  pointer-events:none;
  display:none;
  z-index:5;
}

/* ================== BUTTONS ================== */
#viewSelector{
  display:flex;
  justify-content:center;
  gap:14px;
  padding:14px 0;
}
button{
  background:rgba(255,255,255,.85);
  backdrop-filter:blur(14px);
  border:none;
  padding:12px 20px;
  border-radius:22px;
  font-weight:600;
  box-shadow:0 6px 16px rgba(0,0,0,.18);
}

/* ================== CONTENT ================== */
.center-zone{flex:1;overflow:hidden}
#visitor-list{height:100%}

/* ================== CARD ================== */
.visitor-item{
  border-radius:22px;
  overflow:hidden;
  box-shadow:0 12px 30px rgba(0,0,0,.18);
}
.visitor-item img{width:100%;aspect-ratio:1/1;object-fit:contain}
.visitor-item p{text-align:center;font-weight:600;padding:6px}

/* ================== CAROUSEL 6 ================== */
.carousel-view{
  display:grid;
  grid-auto-flow:column;
  grid-template-rows:repeat(2,1fr);
  grid-auto-columns:calc((100vw - 40px)/3);
  gap:10px;
  padding:12px 20px;
  overflow-x:auto;
  scroll-snap-type:x mandatory;
  -webkit-overflow-scrolling:touch;
}
.carousel-view::-webkit-scrollbar{display:none}
.carousel-view .visitor-item{scroll-snap-align:start}

/* ================== GRID / LIST ================== */
.grid-view{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;padding:14px;overflow:auto}
.list-view{display:flex;flex-direction:column;gap:14px;padding:14px;overflow:auto}

/* ================== SIDEBAR ================== */
#sidebar{
  position:fixed;
  top:0;left:-240px;
  width:240px;height:100%;
  background:rgba(255,255,255,.78);
  backdrop-filter:blur(22px);
  transition:.3s;
  z-index:100;
  padding:20px;
}
#sidebar.sidebar-open{left:0}
#toggleSidebar{
  position:absolute;
  top:50%;right:-42px;
  width:42px;height:86px;
  border-radius:0 22px 22px 0;
}
#sidebar button{width:100%;margin-bottom:10px}

/* ================== MODAL ================== */
.modal-bg{
  position:fixed;inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  justify-content:center;
  align-items:center;
}
.modal-box{background:white;border-radius:28px;padding:18px;width:95%}
.modal-main-img{width:100%;max-height:70vh;object-fit:contain}
</style>
</head>

<body>

<div class="snow" id="snow"></div>
<div class="sweetRain" id="sweetRain"></div>

<!-- SIDEBAR -->
<div id="sidebar">
  <div id="toggleSidebar">‚ò∞</div>
  <button onclick="setView('carousel')">Carrousel</button>
  <button onclick="setView('grid')">Grille</button>
  <button onclick="setView('list')">Liste</button>
  <hr>
  <button onclick="setTheme('default')">Default</button>
  <button onclick="setTheme('noel')">üéÑ No√´l</button>
  <button onclick="setTheme('sweety')">üå∏ Sweety</button>
  <button onclick="setTheme('chat')">üê± Petit chat</button>
</div>

<!-- HEADER BUTTONS -->
<div id="viewSelector">
  <button onclick="setView('carousel')">Carrousel</button>
  <button onclick="setView('grid')">Grille</button>
  <button onclick="setView('list')">Liste</button>
</div>

<div class="center-zone">
  <div id="visitor-list"></div>
</div>

<div class="modal-bg" id="modal" onclick="this.style.display='none'">
  <div class="modal-box" onclick="event.stopPropagation()">
    <img id="modalMain" class="modal-main-img">
  </div>
</div>

<script>
const list=document.getElementById('visitor-list');
const modal=document.getElementById('modal');
const modalMain=document.getElementById('modalMain');
const snow=document.getElementById('snow');
const sweetRain=document.getElementById('sweetRain');
const sidebar=document.getElementById('sidebar');

let creations=JSON.parse(localStorage.getItem('creations')||'[]');
let currentView=localStorage.getItem('view')||'carousel';

function render(){
  list.innerHTML='';
  list.className=currentView+'-view';
  creations.forEach((c,i)=>{
    const d=document.createElement('div');
    d.className='visitor-item';
    d.innerHTML=`<img src="${c.imgUrl}"><p>${c.name}</p>`;
    d.onclick=()=>{modalMain.src=c.imgUrl;modal.style.display='flex'}
    list.appendChild(d);
  });
}
function setView(v){
  currentView=v;
  localStorage.setItem('view',v);
  render();
}

/* ========== THEMES ========== */
function setTheme(t){
  snow.style.display='none';
  sweetRain.style.display='none';

  if(t==='noel'){
    body.style.backgroundImage="url('noel.png')";
    snow.style.display='block';
  }else if(t==='sweety'){
    body.style.backgroundImage="url('sweety-girly.png')";
    sweetRain.style.display='block';
  }else if(t==='chat'){
    body.style.backgroundImage="url('chat.png')";
  }else{
    body.style.backgroundImage="url('Photoroom_20251212_143703.PNG')";
  }
  localStorage.setItem('theme',t);
}

/* LOAD THEME */
setTheme(localStorage.getItem('theme')||'default');

document.getElementById('toggleSidebar').onclick=()=>{
  sidebar.classList.toggle('sidebar-open');
};

render();
</script>

</body>
</html>
