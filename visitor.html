<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Galerie – Visitor</title>

<!-- ================= STYLE INTRO ================= -->
<style>
html,body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  font-family:'Comic Sans MS', cursive;
  -webkit-text-size-adjust:100%;
}

/* ===== ACCUEIL ===== */
#intro-background{
  position:fixed;
  inset:0;
  background:url('Photoroom_20251213_123235.png') center/cover no-repeat;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:100000;
}

#startBtn{
  padding:20px 40px;
  font-size:24px;
  border-radius:16px;
  border:none;
  background:#ffb6c1;
  color:#8b3a3a;
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 6px 15px rgba(182,115,133,.3);
}

/* ===== VIDEO ===== */
#intro-video{
  position:fixed;
  inset:0;
  background:#000;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:100001;
  opacity:0;
  pointer-events:none;
  transition:opacity 1s ease;
}

#intro-video video{
  width:100%;
  height:100%;
  object-fit:contain; /* PAS DE ZOOM */
  pointer-events:none;
}
</style>

<!-- ================= TON STYLE APPLI (INCHANGÉ) ================= -->
<!-- ⚠️ J’AI VOLONTAIREMENT RIEN SUPPRIMÉ -->
<link rel="stylesheet" href="visitor.css">

</head>
<body>

<!-- ===== ACCUEIL ===== -->
<div id="intro-background">
  <button id="startBtn">Bienvenue</button>
</div>

<!-- ===== VIDEO ===== -->
<div id="intro-video">
  <video id="introVid" playsinline webkit-playsinline preload="auto">
    <source src="chat.webm" type="video/webm">
  </video>
</div>

<!-- ===== APPLI ===== -->
<div id="app">
  <!-- TON HTML COMPLET D’APPLI -->
  <!-- boutons carrousel / grid / list -->
  <!-- galerie -->
  <!-- modale -->
</div>

<!-- ================= INTRO LOGIQUE ================= -->
<script>
const introBg = document.getElementById("intro-background");
const introVideo = document.getElementById("intro-video");
const video = document.getElementById("introVid");
const startBtn = document.getElementById("startBtn");

/* pas de retour accueil */
if(sessionStorage.getItem("introPlayed")){
  introBg.remove();
  introVideo.remove();
}

startBtn.onclick = ()=>{
  sessionStorage.setItem("introPlayed","true");
  introBg.style.display="none";
  introVideo.style.opacity="1";
  introVideo.style.pointerEvents="auto";
  video.play().catch(()=>{});
};

video.onended = ()=>{
  setTimeout(()=>{
    introVideo.style.opacity="0";
    setTimeout(()=>introVideo.remove(),1000);
  },2000);
};
</script>

<!-- ================= SUPABASE ================= -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script>
const supabase = supabase.createClient(
  "https://iubbxvipgofxasatmvzg.supabase.co",
  "sb_publishable_GDoZmwIdoP28XOdrfYYVNw_E_HiCQB1"
);
</script>

<!-- ================= TON JS VISITOR ================= -->
<script type="module" src="visitor.js"></script>

</body>
</html>
