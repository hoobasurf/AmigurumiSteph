<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Galerie - Mes cr√©ations</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png">

  <style>
    /* =========================
       RESET / GLOBAL
       ========================= */
    * { box-sizing: border-box; }
    html,body { height: 100%; }
    body {
      margin: 0;
      padding: 0;
      font-family: 'Comic Sans MS', cursive;
      display: flex;
      flex-direction: column;
      background: white;
      height: 100vh;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* =========================
       HEADER (sans pelote)
       ========================= */
    header {
      position: relative;
      background: #fff5f8;
      padding: 40px 20px 48px;
      text-align: center;
      border-bottom-left-radius: 25px;
      border-bottom-right-radius: 25px;
      box-shadow: 0 3px 6px rgba(0,0,0,0.08);
      flex-shrink: 0;
    }

    .title {
      font-size: 40px;
      color: #b84c6f;
      font-weight: bold;
      letter-spacing: 1px;
      text-shadow: 0 3px 8px rgba(184,76,111,0.12);
      margin: 0;
      display: inline-block;
    }

    .title-thread {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      bottom: 14px;
      width: 240px;
      height: 6px;
      background: #b84c6f;
      border-radius: 20px;
      box-shadow: 0 3px 6px rgba(184,76,111,0.08);
      opacity: 0.85;
    }

    /* =========================
       VIEW SELECTOR
       ========================= */
    #viewSelector {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin: 14px 12px;
    }

    #viewSelector button {
      background: #fff;
      border: 2px solid #b84c6f;
      color: #b84c6f;
      padding: 8px 16px;
      border-radius: 24px;
      font-size: 15px;
      cursor: pointer;
      transition: all 0.18s ease;
    }

    #viewSelector button.active {
      background: linear-gradient(90deg, #ffebf2, #fff5f8);
      color: #7a2b45;
      box-shadow: 0 6px 14px rgba(184,76,111,0.12);
      transform: translateY(-2px);
    }

    #viewSelector button:hover { transform: translateY(-2px); }

    /* =========================
       CENTER ZONE & COMMON LIST STYLES
       ========================= */
    .center-zone {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 8px;
      transform: translateY(-40px);
    }

    #visitor-list {
      width: calc(100% - 40px);
      max-width: 1200px;
      margin: 0 auto;
      transition: all 0.2s ease;
    }

    .visitor-item {
      text-align: center;
      cursor: pointer;
      user-select: none;
    }

    .visitor-item img {
      display: block;
      margin: 0 auto;
      object-fit: contain;
      background: white;
      border-radius: 28px;
      padding: 12px;
      border: 4px solid rgba(184,76,111,0.22);
      box-shadow: 0 6px 14px rgba(184,76,111,0.18);
      transition: transform 0.28s ease, box-shadow 0.28s ease;
    }

    .visitor-item p {
      margin: 12px 0 0;
      font-size: 20px;
      color: #b84c6f;
      font-weight: bold;
      line-height: 1.1;
    }

    /* CARROUSEL MODE */
    .carousel-view {
      display: flex;
      gap: 40px;
      overflow-x: auto;
      scroll-behavior: smooth;
      padding: 10px;
      align-items: center;
    }
    .carousel-view::-webkit-scrollbar { height: 8px; }
    .carousel-view::-webkit-scrollbar-thumb {
      background: #b84c6f66;
      border-radius: 20px;
    }
    .visitor-item.active img { transform: scale(1.16); box-shadow: 0 10px 22px rgba(184,76,111,0.30); }
    .carousel-view .visitor-item img { width: 260px; height: 260px; }

    /* GRID MODE */
    .grid-view {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 24px;
      padding: 16px;
      align-items: start;
      max-height: 68vh;
      overflow-y: auto;
    }
    .grid-view .visitor-item img { width: 100%; height: 200px; border-radius: 18px; }

    /* LIST MODE */
    .list-view {
      display: flex;
      flex-direction: column;
      gap: 18px;
      padding: 16px;
      max-height: 68vh;
      overflow-y: auto;
    }
    .list-view .visitor-item {
      display: flex;
      gap: 18px;
      align-items: center;
      padding: 8px;
      border-radius: 12px;
      background: linear-gradient(180deg, rgba(255,235,243,0.6), rgba(255,245,248,0.6));
      border: 1px solid rgba(184,76,111,0.06);
    }
    .list-view .visitor-item img { width: 140px; height: 140px; border-radius: 12px; }
    .list-view .visitor-item p { margin: 0; font-size: 18px; text-align: left; }

    /* MODAL */
    .modal-bg {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.65);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      padding: 20px;
    }
    .modal-bg.click-close { cursor: pointer; }

    .modal-box {
      background: white;
      border-radius: 16px;
      padding: 18px;
      max-width: 980px;
      width: 94%;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 8px 30px rgba(0,0,0,0.25);
      text-align: center;
      position: relative;
      cursor: default;
    }

    .close-modal {
      position: absolute;
      top: 10px;
      right: 12px;
      font-size: 28px;
      cursor: pointer;
      color: #b84c6f;
      font-weight: bold;
    }

    .modal-main-img {
      width: 100%;
      max-height: 520px;
      object-fit: contain;
      border-radius: 12px;
      border: 4px solid rgba(184,76,111,0.18);
      background: white;
    }

    .thumbs { margin-top: 16px; display:flex; gap:12px; justify-content:center; flex-wrap:wrap;}
    .thumbs img { width: 110px; height: 110px; object-fit: contain; border-radius: 10px; border: 3px solid rgba(184,76,111,0.20); background: white; cursor: pointer; transition: transform .16s; }
    .thumbs img:hover { transform: scale(1.06); border-color: #b84c6f; }

    /* ICON BAR */
    .icon-bar { margin-top: 12px; display:flex; justify-content:center; gap:36px; align-items:center; }
    .icon-btn { display:flex; gap:8px; align-items:center; cursor:pointer; color:#b84c6f; font-size:18px; }
    .heart { font-size:26px; transition: color .18s; }
    .heart.liked { color:#ff4b82; }
    .comment-number { background:#b84c6f; color:white; padding:2px 8px; border-radius:12px; font-size:13px; }

    /* COMMENTS & FORM */
    .comment-section { margin-top: 14px; text-align:left; }
    .comment { background:#fff0f7; border:1px solid rgba(184,76,111,0.12); padding:10px; border-radius:10px; margin-bottom:10px; }
    .add-comment-btn { margin-top:12px; padding:10px 20px; background:#b84c6f; color:white; border-radius:26px; font-size:16px; border:none; cursor:pointer;}
    .comment-form-bg { position: fixed; inset: 0; background: rgba(0,0,0,0.6); display:none; justify-content:center; align-items:center; z-index:2000; }
    .comment-form { background:white; padding:18px; border-radius:12px; width:340px; box-shadow:0 8px 20px rgba(0,0,0,0.25); text-align:center;}
    .comment-form input, .comment-form textarea { width:100%; padding:10px; border-radius:8px; border:2px solid rgba(184,76,111,0.12); margin-bottom:10px; font-size:15px; }

    @media (max-width: 720px) {
      .title { font-size: 30px; }
      .carousel-view .visitor-item img { width: 200px; height: 200px; }
      .modal-main-img { max-height: 360px; }
      .thumbs img { width: 88px; height:88px; }
    }
  </style>
</head>

<body>

<header>
  <h1 class="title">Mes cr√©ations</h1>
  <div class="title-thread" aria-hidden="true"></div>
</header>

<!-- VIEW SELECTOR -->
<div id="viewSelector" aria-hidden="false">
  <button id="btnCarousel">Carrousel</button>
  <button id="btnGrid">Grille</button>
  <button id="btnList">Liste</button>
</div>

<!-- CENTER ZONE -->
<div class="center-zone">
  <div id="visitor-list" role="list"></div>
</div>

<!-- MODAL -->
<div class="modal-bg click-close" id="modal" onclick="backgroundClose(event)">
  <div class="modal-box" role="dialog" aria-modal="true" aria-labelledby="modalTitle" onclick="event.stopPropagation()">
    <div class="close-modal" onclick="closeModal()">√ó</div>

    <img id="modalMain" class="modal-main-img" alt="Image agrandie">

    <div class="icon-bar">
      <div class="icon-btn" onclick="toggleLike()" title="J'aime">
        <span id="heart" class="heart">‚ô°</span>
        <span id="likeName" style="font-weight:600;color:#7a2b45;"></span>
      </div>

      <div class="icon-btn" onclick="scrollToComments()" title="Voir les commentaires">
        üí¨ <span id="commentCount" class="comment-number">0</span>
      </div>
    </div>

    <div id="thumbsContainer" class="thumbs" aria-hidden="false"></div>

    <button class="add-comment-btn" onclick="openCommentForm()">Ajouter un commentaire</button>

    <div id="commentsList" class="comment-section" aria-live="polite"></div>
  </div>
</div>

<!-- COMMENT FORM -->
<div class="comment-form-bg" id="commentFormBg" onclick="closeCommentForm(event)">
  <div class="comment-form" onclick="event.stopPropagation()">
    <h3 style="margin-top:0;color:#b84c6f">Laisser un commentaire</h3>
    <input id="commentName" placeholder="Pr√©nom" />
    <textarea id="commentText" rows="4" placeholder="Votre commentaire..."></textarea>
    <button onclick="submitComment()">Envoyer</button>
  </div>
</div>

<script>
  // =========================
  // Script JS identique √† la version pr√©c√©dente (gestion carrousel/grille/liste, modal, likes, commentaires)
  // Voir le script complet du fichier pr√©c√©dent
  // =========================
  // ... (copie int√©gralement le JS du fichier pr√©c√©dent ici) ...
</script>

</body>
</html>
