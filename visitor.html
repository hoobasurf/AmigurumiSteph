<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Galerie – Visitor</title>

<style>
/* ================= RESET ================= */
html, body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  font-family:sans-serif;
  background:#fff0f5;
  overflow-x:hidden;
  -webkit-text-size-adjust:100%;
}

/* ================= ACCUEIL IMAGE ================= */
#intro-background{
  position:fixed;
  inset:0;
  background:url('Photoroom_20251213_123235.png') center center / cover no-repeat;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:100000;
}

/* BOUTON BIENVENUE */
#startBtn{
  padding:20px 40px;
  font-size:24px;
  border-radius:16px;
  border:none;
  background:#ffb6c1;
  color:#8b3a3a;
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 6px 15px rgba(182,115,133,.3);
}

/* ================= INTRO VIDEO ================= */
#intro-video{
  position:fixed;
  inset:0;
  background:#000;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:100001;
  opacity:0;
  pointer-events:none;
  transition:opacity 1s ease;
}

#intro-video video{
  width:100%;
  height:100%;
  object-fit:contain; /* PAS DE ZOOM */
  pointer-events:none;
}

/* ================= APP ================= */
#app{
  min-height:100vh;
}

/* TITRE */
h1{
  text-align:center;
  color:#b84c6f;
  margin:20px 0;
}

/* GALERIE */
.gallery-scroll{
  display:flex;
  gap:20px;
  overflow-x:auto;
  padding:20px;
}

.gallery-scroll img{
  height:240px;
  border-radius:12px;
  cursor:pointer;
  box-shadow:0 4px 15px rgba(0,0,0,0.25);
}
</style>
</head>

<body>

<!-- ================= ACCUEIL ================= -->
<div id="intro-background">
  <button id="startBtn">Bienvenue</button>
</div>

<!-- ================= VIDEO ================= -->
<div id="intro-video">
  <video id="introVid" playsinline webkit-playsinline preload="auto">
    <source src="chat.webm" type="video/webm">
  </video>
</div>

<!-- ================= APP ================= -->
<div id="app">
  <h1>✨ Projets réalisés</h1>
  <div id="gallery" class="gallery-scroll"></div>
</div>

<!-- ================= INTRO LOGIQUE ================= -->
<script>
const introBg = document.getElementById("intro-background");
const introVideo = document.getElementById("intro-video");
const video = document.getElementById("introVid");
const startBtn = document.getElementById("startBtn");

/* Empêche retour accueil */
if(sessionStorage.getItem("introPlayed")){
  introBg.remove();
  introVideo.remove();
}

startBtn.onclick = () => {
  sessionStorage.setItem("introPlayed","true");

  introBg.style.display = "none";
  introVideo.style.opacity = "1";
  introVideo.style.pointerEvents = "auto";

  video.play().catch(e => console.log("Play bloqué:", e));
};

video.onended = () => {
  setTimeout(() => {
    introVideo.style.opacity = "0";
    setTimeout(() => introVideo.remove(), 1000);
  }, 2000); // 2 secondes à la fin
};
</script>

<!-- ================= TON JS VISITOR ================= -->
<script type="module" src="visitor.js"></script>

</body>
</html>
