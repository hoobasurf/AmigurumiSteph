<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Galerie Projets – Visitor</title>
<style>
body {
  margin:0;
  font-family:sans-serif;
  background:#fff0f5;
  overflow-x:hidden;
  height:100vh;
}

/* ================= INTRO VIDEO + FOND ================= */
#intro-container{
  position:fixed;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  background: url('Photoroom_20251213_123235.png') center/cover no-repeat;
  z-index:100000;
}

/* VIDEO */
#intro-video{
  width:80%;
  max-width:800px;
  border-radius:16px;
  pointer-events:none; /* empêche le clic */
}

/* BOUTON BIENVENUE */
#welcome-btn {
  position:absolute;
  z-index:100001;
  padding:14px 28px;
  background:#ffb6c1;
  color:#8b3a3a;
  font-weight:bold;
  font-size:18px;
  border:none;
  border-radius:12px;
  cursor:pointer;
  box-shadow:0 4px 12px rgba(0,0,0,0.2);
}
#welcome-btn:hover { background:#ff9fc1; }

/* ================= GALERIE ================= */
header { display:none; } /* caché avant la fin de la vidéo */
h1 { text-align:center; color:#b84c6f; margin-top:20px; }
#gallery { display:flex; flex-wrap:wrap; justify-content:center; gap:20px; padding:20px; }

/* MODAL */
#imageModal {
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.8);
  justify-content:center;
  align-items:center;
  z-index:2000;
}
#imageModal img {
  width:90%;
  max-width:600px;
  border-radius:12px;
}
</style>
</head>
<body>

<!-- INTRO VIDEO + BOUTON -->
<div id="intro-container">
  <video id="intro-video" playsinline webkit-playsinline preload="auto">
    <source src="chat.webm" type="video/webm">
  </video>
  <button id="welcome-btn">Bienvenue</button>
</div>

<header>
  <h1>✨ Projets réalisés</h1>
</header>
<div id="gallery"></div>

<!-- Modal zoom -->
<div id="imageModal" onclick="this.style.display='none'">
  <img id="modalImg" src="">
</div>

<script type="module" src="visitor.js"></script>

<script>
// BOUTON BIENVENUE pour lancer la vidéo
const introContainer = document.getElementById('intro-container');
const video = document.getElementById('intro-video');
const welcomeBtn = document.getElementById('welcome-btn');
const header = document.querySelector('header');

welcomeBtn.onclick = () => {
  video.play().catch(e => console.log("Autoplay bloqué :", e));
  welcomeBtn.style.display = 'none';

  // À la fin de la vidéo, fade-out
  video.onended = () => {
    introContainer.style.transition = "opacity 1.2s";
    introContainer.style.opacity = 0;
    setTimeout(() => {
      introContainer.remove();
      header.style.display = 'block'; // affiche le header et galerie
      // ici tu peux appeler loadCreations() pour afficher les créations depuis Supabase
    }, 1200);
  };
};
</script>

</body>
</html>
